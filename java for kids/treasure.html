<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Find treasure</title>
</head>
<body>
<h1 id="heading">Find treasure!</h1>
<img id="map" width=800 height=800
src= "http://nostarch.com/images/treasuremap.png">
<p id="distance"></p>
<p id="clicksLost"></p>
<script src="https://code.jquery.com/jquery-2.1.0.js"></script>
<script>
var getRandomNumber = function(size) {
return Math.floor(Math.random()*size);
};
var getDistance = function(event, target) { 
var diffX= event.offsetX-target.x;
var diffY= event.offsetY-target.y;
return Math.sqrt((diffX*diffX)+(diffY*diffY));
};
var getDistanceHint= function(distance) {
if (distance<30) {
return "too hot!";
} else if (distance<60) {
return "very hot!";
} else if (distance<100) {
return "hot!";
} else if (distance<200) {
return "warm";
} else if (distance<400) {
return "cold";
} else if (distance<600) {
return "too cold";
} else {
return "You are frost";
}
};
var width = 800;
var height = 800;
var clicks = 0;
var clickLimit = 20;
var target ={
x: getRandomNumber(width),
y: getRandomNumber(height)
};
$("#map").click(function(event) {
clicks++;
var clickLost = clickLimit - clicks;
if (clicks> clickLimit) {
alert ("You are lose");
return;
}
var distance= getDistance(event, target);
var distanceHint = getDistanceHint(distance);
$("#distance").text(distanceHint);
if (distance<20) {
alert ("The treasure is find! Click number: "+ clicks)
}
$("#clicksLost").text(clickLost);
});
</script>
</body>
</html>